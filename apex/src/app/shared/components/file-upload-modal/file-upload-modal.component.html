<ng-template #file_upload_modal let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h5 class="modal-title" style="font-weight: bold">{{ title }}</h5>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">			                        
        <div class="row">
            <div class="col-12 text-center">
                <input 
                    style="display: none" 
                    type="file" (change)="onFileChanged($event)" 
                    #fileInput>
                <button class="btn-lg btn-primary" (click)="fileInput.click()">
                    <ng-template [ngIf]="!selected_file">Selecionar Arquivo</ng-template>                    
                    <ng-template [ngIf]="selected_file">Alterar Arquivo</ng-template>                                        
                </button>        
            </div>
        </div>
        <div class="row" *ngIf="selected_file">
            <div class="col-12" style="padding-top:10px">                    
                <b>Arquivo: </b> {{ selected_file.name }}
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                    {{ validation_message }}
            </div>
        </div>        
    </div>
    <div class="modal-footer" *ngIf="saving">        
        <i class="fas fa-circle-notch fa-spin"></i> &nbsp; Executando...
    </div>
    <div class="modal-footer" *ngIf="!saving">
        <button type="button" class="btn btn-success" 
            *ngIf="selected_file && validated"
            (click)="send_file(d);">
            <i class="icon-check"></i>
            Enviar
        </button>

        <button type="button" class="btn btn-silver"                         
            (click)="d('Cancel')">
            <i class="icon-action-undo"></i>          
            Cancelar                              
        </button> 
    </div>
</ng-template>