<div 
	*ngIf="card && !card.archived"
	class="compact-card">
	<div class="row">		
		<div class="col-12">
			<div class="row">				
				<div class="col-10">
					<div class="row">				
						<div class="col-12">
							<a 
								[routerLink]="['/organizations/projects', card.high_level_id]"
								*ngIf="card.high_level_id != card.parent.id" 
								target="_blank">{{ card.high_level_abrev || card.high_level_title }}</a>	
							>
							<a 
								[routerLink]="['/organizations/projects', card.parent_id]"						
								target="_blank">{{ card.parent_title }}</a>
							>
							<a (click)="open_detail_modal()">
								{{ card.title || "Confirmar" }}							
							</a>	
							
							<a (click)="open_move_modal()">
								({{ card.current_step }})
							</a>

							<button type="button" class="btn btn-silver card_actions"             
								*ngIf="!begin_remove && !show_actions"								
								(click)="show_actions = true">
								<i class="ft-settings"></i>            
							</button>
						</div>						
					</div>	
					<div class="row">
						<div class="col-12">
							<i class="fas fa-exclamation-triangle" style="color:red" *ngIf="card.has_overdue_card"></i>
							<div *ngIf="card.due_date 
								&& card.due_date_formated" 
								class="card_due_date">{{ card.due_date_formated }}</div>
							<div *ngIf="card.due_date && !card.due_date_formated" class="card_due_date">{{  card.due_date.day + "/" + (card.due_date.month) }}</div>
							<div *ngIf="card.comment_count > 0" 
								(click)="open_detail_modal()"
								class="card_comment_count">						
								<i class="far fa-sticky-note"></i> 
								{{ card.comment_count }}						
							</div>
							
							<button type="button" class="btn btn-silver" 			
								*ngIf="!begin_remove && show_actions"
								(click)="open_move_modal(d)">
								<i class="fas fa-expand-arrows-alt"></i>
								Mover
							</button>												 
							
							<button type="button" class="btn btn-silver" 
								style="margin-left:20px"			            
								*ngIf="!begin_remove && show_actions"
								(click)="show_actions = false">
								<i class="icon-action-undo"></i>            
							</button>
						</div>
						
					</div>		
				</div>
				<div class="col-2" *ngIf="card.leaders && card.leaders.length > 0">
					<img src="https://myvtmiim.blob.core.windows.net/avatars/{{ l.avatar_img }}" 
					title="{{ l.name }}"
					*ngFor="let l of card.leaders" style="width:100%" />
				</div>
				<div class="col-2" *ngIf="(!card.leaders 
											|| card.leaders.length <= 0)
											&& card.parent_leaders && card.parent_leaders.length > 0">
					<img src="https://myvtmiim.blob.core.windows.net/avatars/{{ l.avatar_img }}" 
					title="{{ l.name }}"
					*ngFor="let l of card.parent_leaders" style="width:100%" />
				</div>
			</div>
		</div>		
	</div>	
</div>