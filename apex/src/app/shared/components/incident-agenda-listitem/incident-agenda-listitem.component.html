<div class="row" *ngIf="!incident.cancelled">    
    <div class="col-8 d-none d-md-block" 
        [style.color]="incident.closed && !incident.treated ? 'silver' : ( incident.treated ? '#ffa000ad' : ( incident.started_on ? '#1565c0' : (incident.past ? 'red' : 'black'  )  ))  "        
        style="cursor:pointer;"
        [style.font-weight]="incident.incident_type == 36 ? 'bold' : 'normal'"
        (click)="show_incident_details(incident);">
        <span *ngIf="current_branch <= 0" style="width:40px;display:inline-table;">{{ incident.branch_initials }}</span>
        <span style="width:70px;display:inline-table;" *ngIf="showDate"> {{ incident.date | date:'dd/MM' }} - </span>        
        <span style="width:45px;display:inline-table;" *ngIf="incident.need_start_hour_minute">{{ (incident.started_on || incident.date) | date:'HH:mm' }}</span>
        <span style="width:40px;display:inline-table;">{{ incident.abrev }}</span> 
        <span *ngIf="!hideName">{{ incident.person }}</span>
        <span *ngIf="showTitle">{{ incident.title }}</span>
        <span *ngIf="showCloseText"> - {{ incident.close_text }}</span>
    </div>
    
    <div class="col-8 d-block d-md-none"         
        style="cursor:pointer;"
        [style.font-weight]="incident.incident_type == 36 ? 'bold' : 'normal'"
        [style.color]="incident.closed && !incident.treated ? 'silver' : ( incident.treated ? '#ffa000ad' : ( incident.started_on ? '#1565c0' : (incident.past ? 'red' : 'black'  )  ))  "
        (click)="show_incident_details(incident);">
        <div class="row">
            <div class="col-12 p-0 pl-2">
                
                <span *ngIf="current_branch <= 0" style="width:40px;display:inline-table;">
                    {{ incident.branch_initials }}
                </span>
                <span style="width:45px;display:inline-table;">{{ (incident.started_on || incident.date) | date:'HH:mm' }}</span>
                <span style="width:40px;display:inline-table;">{{ incident.abrev }}</span>
            </div>
            <div class="col-12 p-0 pl-2" *ngIf="!hideName">												
                {{ incident.person }}
            </div>
            <div class="col-12 p-0 pl-2" *ngIf="showTitle">												
                {{ incident.title }}
            </div>
            <div class="col-12 p-0 pl-2" *ngIf="showCloseText">												
                - {{ incident.close_text }}
            </div>
        </div>										
    </div>
        
    <div class="col-1 d-none d-md-block" *ngIf="!hideActions">
        <button type="button" 
        class="btn btn-silver btn-sm btn-action" 										
        title="Iniciar Atividade"									
        *ngIf="!incident.in_treatment 
            && !incident.closed 
            && !incident.treated
            && incident.need_to_be_started 
            && !incident.started_on"
        (click)="start_incident(incident);">
            <i class="fas fa-play"></i>
        </button>
        <button type="button" 
        class="btn btn-silver btn-sm btn-action" 
        title="Confirmar Atividade"									
        *ngIf="!incident.in_treatment 
            && !incident.closed 
            && !incident.treated
            && !incident.need_to_be_started"
        (click)="close_incident(incident);">
            <i class="fas fa-check"></i>
        </button>
        <button type="button" 
        class="btn btn-silver btn-sm btn-action" 
        title="Finalizar Atividade"									
        *ngIf="!incident.in_treatment 
            && !incident.closed 
            && !incident.treated
            && incident.need_to_be_started
            && !incident.need_description_for_closing 
            && incident.started_on"
        (click)="close_incident(incident);">
            <i class="fas fa-stop"></i>
        </button>
    </div>
    <div class="col-3 d-none d-md-block" *ngIf="!hideStatus">        
        <person-status-line	            									
            [incident]="incident">
        </person-status-line>
    </div>	
    <div class="col-4 d-block d-md-none" *ngIf="!hideActions">
        <div class="row">
            <div class="col-12">
                <div class="row">
                    <div class="col-12">
                        <button type="button" 
                        class="btn btn-silver btn-sm btn-action" 										
                        title="Iniciar Atividade"									
                        *ngIf="!incident.in_treatment 
                            && !incident.closed 
                            && !incident.treated
                            && incident.need_to_be_started 
                            && !incident.started_on"
                        (click)="start_incident(incident);">
                            <i class="fas fa-play"></i>
                        </button>
                        <button type="button" 
                        class="btn btn-silver btn-sm btn-action" 
                        title="Confirmar Atividade"									
                        *ngIf="!incident.in_treatment 
                            && !incident.closed 
                            && !incident.treated
                            && !incident.need_to_be_started"
                        (click)="close_incident(incident);">
                            <i class="fas fa-check"></i>
                        </button>
                        <button type="button" 
                        class="btn btn-silver btn-sm btn-action" 
                        title="Finalizar Atividade"									
                        *ngIf="!incident.in_treatment 
                            && !incident.closed 
                            && !incident.treated
                            && incident.need_to_be_started 
                            && !incident.need_description_for_closing 
                            && incident.started_on"
                        (click)="close_incident(incident);">
                            <i class="fas fa-stop"></i>
                        </button>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">                        
                        <person-status-line	                            
                            [incident]="incident">
                        </person-status-line>
                    </div>
                </div>
            </div>
        </div>										
    </div>
</div>