

<div class="card">
    <div class="sticky-top" style="background-color:white;width:100%;padding:10px;z-index:10000">
        <div class="row">
            <div class="col-12">
                <div class="row">
                    <div class="col-12 col-xl-6 col-lg-6 col-md-12">
                        <h4 class="card-title"
                        style="cursor:pointer"
                        *ngIf="!show_change_issues_level"
                        (click)="show_change_issues_level = !show_change_issues_level"
                        >
                            {{ current_issues_level }}                                                         
                        </h4>
                        <select 	
                            [(ngModel)]="issues_level"
                            (ngModelChange)="filter_people(current_branch, $event);show_change_issues_level = !show_change_issues_level"																		
                            class="form-control"
                            *ngIf="show_change_issues_level"
                            style="width:100%"
                            >			
                            <option value="0">Todos os praticantes</option>			
                            <option value="1">Praticantes com tratamentos</option>
                            <option value="2">Praticantes com pendências</option>
                        </select>
                        <h6 style="margin:0;margin-top:5px;margin-bottom:5px;font-weight:bold;color:black;cursor:pointer;border-bottom:1px dotted silver;" 
                        *ngIf="!show_change_branch"
                        (click)="show_change_branch = !show_change_branch">									
                            {{ current_branch_name }}
                        </h6>
                        <div class="form-group">
                            <select id="branch" 
                                [(ngModel)]="current_branch" 
                                (ngModelChange)="filter_people($event, issues_level)"									
                                *ngIf="show_change_branch"
                                class="form-control"
                                style="width:100%"
                                >			
                                <option value="0">Todos os Núcleos</option>			
                                <option value="1">Núcleo Barra</option>
                                <option value="2">Núcleo Méier</option>
                                <option value="3">Núcleo Ipanema</option>
                                <option *ngFor="let b of branches" [value]="b.id">{{b.name}}</option>
                            </select>
                        </div>
                    </div>	
                    <div class="col-12 col-xl-2 col-lg-2 col-md-4 col-sm-12">
                        <h6></h6>
                        	
                    </div>                    													
                </div>						
            </div>					
        </div>
    </div>
    <div class="card-body text-center">
        <div class="row">        
            <div *ngFor="let person of people"
                [routerLink]="['/person', person.id]"
                class="text-left"
                style="border:1px solid black;cursor:pointer;padding-bottom:5px;margin:10px;display:inline-block;width:310px">
                <div class="row">
                    <div 
                        style="padding-right:0"
                        class="col-3 d-none d-xl-block text-right">
                        <img alt="{{ person.name }}"
                        [routerLink]="['/person', person.person_id]"
                        class="img-border" 
                        src="https://myvtmiim.blob.core.windows.net/avatars/{{ person.avatar_img }}" 											
                        style="width:100%;cursor:pointer"																												
                        [style.border-color]="person.is_leaving || person.is_inactive_member ? 'orange' : null " 
                        [style.opacity]="person.is_leaving || person.is_inactive_member ? '0.5' : null " 
                        *ngIf="person.avatar_img && person.avatar_img.length > 0" />
                        
                        <img 
                        [routerLink]="['/person', person.id]"
                        class="img-border" 
                        src="/assets/img/portrait/avatars/avatar-08.png" 											
                        style="width:100%;cursor:pointer"																												
                        [style.border-color]="person.is_leaving || person.is_inactive_member ? 'orange' : null " 
                        [style.opacity]="person.is_leaving || person.is_inactive_member ? '0.5' : null " 
                        *ngIf="!person.avatar_img || person.avatar_img.length <= 0" /> 
                    </div>								
                    <div 
                    class="col-9 col-md-12 col-lg-9" style="padding-left:0">
                        <div class="row">
                            <div class="col-12"
                            [style.color]="person.is_leaving || person.is_inactive_member ? 'grey' : 'black'"
                            >
                                <a
                                [style.color]="person.is_leaving || person.is_inactive_member ? 'grey' : 'black'"
                                [routerLink]="['/person', person.person_id]">
                                {{ person.name }}														
                                </a>														
                                <div
                                    class="d-none d-md-block"																	
                                    *ngIf="person.kf_name_ideograms" 
                                    style="float:right;margin-right:20px">													
                                    {{ person.kf_name_ideograms }}																																								
                                </div>																
                            </div>													
                        </div>												
                        <div class="row d-none d-xl-block" 
                            style="font-size:12px;">
                            <div class="col-12"
                                [style.color]="person.is_leaving || person.is_inactive_member ? 'grey' : 'black'"
                            >
                                {{ person.branch_initials }} <span *ngIf="person.family_name">, {{ person.family_name }}</span>
                                <span 
                                    *ngIf="!person.admission_date && person.family_name"
                                    style="font-style: italic; color:gray">
                                    (candidato)
                                </span>

                                <div *ngIf="person.kf_name" 																	
                                    style="float:right;margin-right:20px">													
                                    {{ person.kf_name }}																																								
                                </div>
                            </div>															
                        </div>
                        <div class="row">
                            <div class="col-12" style="font-size:larger">
                                <span *ngIf="person.scheduling_status == 3">												
                                        <i class="ft-calendar" style="color:orange"
                                            [title]="person.scheduling_description">
                                        </i>
                                    </span>
                                <span *ngIf="person.scheduling_status > 0 && person.scheduling_status != 3">
                                    <i class="ft-calendar" style="color:red"													
                                        [title]="person.scheduling_description">
                                    </i>
                                </span>											
                                <span *ngIf="person.financial_status == 3">												
                                    <i class="icon-wallet" style="color:orange"
                                    [title]="person.financial_description"
                                    ></i>
                                </span>
                                <span *ngIf="person.financial_status > 0 && person.financial_status != 3">
                                    <i class="icon-wallet" style="color:red"													
                                        [title]="person.financial_description"
                                    >
                                    </i>
                                </span>
                                <span *ngIf="person.data_status == 3">												
                                    <i class="icon-user" style="color:orange"
                                    [title]="person.data_status_description"
                                    ></i>
                                </span>
                                <span *ngIf="person.data_status == 1">												
                                    <i class="icon-user" style="color:red"
                                    [title]="person.data_status_description"
                                    ></i>
                                </span>
                            </div>
                        </div>
                    </div>	
                </div>
            </div>                    
        </div>
    </div>
</div>